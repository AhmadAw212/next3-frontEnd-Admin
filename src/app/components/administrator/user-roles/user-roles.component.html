<div class="role-list container-fluid">
  <div class="buttons-container">
    <button
      class="default-access-btn"
      (click)="getProfileDefaultAccessRoles()"
      *ngIf="hasPerm('admUpdateData')"
    >
      {{ dico?.dico_default_access || "dico_default_access" }}
    </button>
  </div>
  <div class="search-container">
    <input
      type="text"
      id="role-code-search"
      name="role-code-search"
      placeholder="Search by Code"
      [(ngModel)]="roleCodeFilter"
    />

    <input
      type="text"
      id="role-desc-search"
      name="role-desc-search"
      placeholder="Search by Desc"
      [(ngModel)]="roleDescFilter"
    />
    <button
      class="save-role-btn"
      aria-label="Save Changes"
      (click)="updateRoles()"
      *ngIf="hasPerm('admUpdateData')"
    >
      {{ dico?.dico_save || "dico_save" }}
    </button>
  </div>

  <table class="table table-responsive">
    <thead>
      <tr>
        <th>
          {{ dico?.dico_role || "dico_role" }}
          {{ dico?.dico_code || "dico_code" }}
        </th>
        <th>
          {{ dico?.dico_role || "dico_role" }}
          {{ dico?.dico_description || "dico_description" }}
        </th>
        <th>{{ dico?.dico_selected || "dico_selected" }}</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="
          let role of filteredRoles!
            | paginate
              : {
                  itemsPerPage: maxSizeValue,
                  currentPage: rolesPage,
                  totalItems: filteredRoles?.length
                }
        "
      >
        <td>{{ role.id }}</td>
        <td>{{ role.description }}</td>
        <td>
          <input type="checkbox" [(ngModel)]="role.granted" />
        </td>
      </tr>
    </tbody>
  </table>

  <div class="pagination-wrapper">
    <div class="page-size-wrapper">
      <label for="max-size-select">Max Size:</label>
      <select
        id="max-size-select"
        [(ngModel)]="maxSizeValue"
        aria-label="Select max page size"
      >
        <option value="5">5</option>
        <option value="10">10</option>
        <option value="20">20</option>
      </select>
    </div>
    <div class="paginator-wrapper">
      <pagination-controls
        (pageChange)="rolesPage = $event"
      ></pagination-controls>
    </div>
  </div>
</div>
