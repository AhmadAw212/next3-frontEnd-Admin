<div class="h3-header">
  <h3>
    {{ dico?.dico_near_region_territory || "dico_near_region_territory" }}

    <button
      type="button"
      (click)="exportToExcel()"
      *ngIf="hasPerm('admExportToFile')"
      class="export-excel btn btn-primary"
    >
      {{ dico?.dico_export_to_excel || "dico_export_to_excel" }}
    </button>
  </h3>
</div>
<div class="admin-container container-fluid" style="height: 250px">
  <app-spinner *ngIf="isLoading"></app-spinner>
  <div class="user-inputs">
    <form (ngSubmit)="searchTownTerritory()">
      <label>{{ dico?.dico_code || "dico_code" }}:</label>
      <input type="text" id="key" name="key" [(ngModel)]="code" />

      <label>{{ dico?.dico_description || "dico_description" }}:</label>
      <input type="text" id="value" name="value" [(ngModel)]="description" />

      <button type="submit">{{ dico?.BASIC_SEARCH || "BASIC_SEARCH" }}</button>
    </form>
  </div>

  <table class="responsive-table">
    <thead>
      <tr>
        <th>{{ dico?.dico_code || "dico_code" }}</th>
        <th>{{ dico?.dico_description || "dico_description" }}</th>
      </tr>
    </thead>
    <tbody>
      <tr
        (click)="highlightRow($event); showNearTerritory(townTerritory)"
        *ngFor="let townTerritory of townTerritory"
      >
        <td>{{ townTerritory.code }}</td>
        <td>{{ townTerritory.description }}</td>
      </tr>
    </tbody>
    <ng-template #noData>
      <tr>
        <td colspan="5">
          {{ dico?.BASIC_NO_DATA_TO_DISPLAY || "BASIC_NO_DATA_TO_DISPLAY" }}
        </td>
      </tr>
    </ng-template>
  </table>
</div>

<div *ngIf="showNearTerr">
  <app-near-region-territory
    [selectedRegion]="selectedRegion"
  ></app-near-region-territory>
</div>
