<div class="h3-header m-3 d-flex align-items-center justify-content-between">
  <h3>{{ dico?.dico_search || "dico_search" }}</h3>
  <button class="button-class" (click)="searchSurvey()">Search</button>
</div>
<div class="container-fluid mt-3">
  <div class="row">
    <div class="col-lg-4 col-md-6">
      <div class="card h-100">
        <div class="card-body">
          <div class="row p-3">
            <div class="col-md-6 col-sm-6">
              <label class="label-color">Search By Loss Car</label>
            </div>
          </div>
          <div class="row p-3">
            <div class="col-md-4 col-sm-4">
              <label class="form-label"> Search By </label>

              <select
                name="searchBy"
                id="searchBy"
                class="form-select"
                [(ngModel)]="lossCarSearchCode"
              >
                <option *ngFor="let type of searchTypes" [value]="type.code">
                  {{ type.description }}
                </option>
              </select>
            </div>
            <div class="col-md-4 col-sm-4">
              <label class="form-label"> Search Value </label>
              <input
                type="text"
                class="form-control"
                [(ngModel)]="lossCarSearchValue"
              />
            </div>
          </div>
          <div class="row p-2">
            <div class="col-md-4 col-sm-4">
              <button class="button-class m-3" (click)="openPrintSurveySent()">
                <img src="./assets/icons/barcode.png" class="icon" alt="" />
                Print Survey List
              </button>
            </div>
            <div class="col-md-4 col-sm-4">
              <button class="button-class m-3" (click)="openSurveyListExcel()">
                {{ dico?.dico_sur_list_excel || "dico_sur_list_excel" }}
              </button>
            </div>
            <div class="col-md-4 col-sm-4">
              <button class="button-class m-3" (click)="openFollowUpExcel()">
                Survey Follow Up
              </button>
            </div>
            <div class="col-md-4 col-sm-4">
              <button class="button-class m-3" (click)="openSurveyCheckExcel()">
                Survey Checking
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-4 col-md-6">
      <div class="card h-100">
        <div class="card-body">
          <div class="row p-3">
            <div class="col-md-6 col-sm-6">
              <label class="label-color">Search Common</label>
            </div>
          </div>
          <div class="row p-2">
            <div class="col-md-4">
              <label class="form-label"
                >{{ dico?.dico_company || "dico_company" }}
              </label>
              <select
                id="company"
                name="company"
                class="form-select"
                [(ngModel)]="insuranceId"
                [disabled]="companies.length! <= 1"
              >
                <option
                  *ngFor="let company of companies"
                  [value]="company.companyId"
                >
                  {{ company.companyName }}
                </option>
              </select>
            </div>

            <div class="col-md-4">
              <label for="fromDate" class="form-label">{{
                dico?.dico_from_date || "dico_from_date"
              }}</label>
              <input
                type="text"
                name="fromDate"
                id="fromDate"
                class="form-control"
                bsDatepicker
                [(ngModel)]="fromDate"
                [bsConfig]="{
                  dateInputFormat: 'DD/MM/YYYY',
                  containerClass: 'theme-dark-blue',
                  showWeekNumbers: false
                }"
              />
            </div>

            <div class="col-md-4">
              <label class="form-label">{{
                dico?.dico_to_date || "dico_to_date"
              }}</label>
              <input
                type="text"
                name="toDate"
                id="toDate"
                class="form-control"
                bsDatepicker
                [(ngModel)]="toDate"
                [bsConfig]="{
                  dateInputFormat: 'DD/MM/YYYY',
                  containerClass: 'theme-dark-blue',
                  showWeekNumbers: false
                }"
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-4 col-md-6">
      <div class="card h-100">
        <div class="card-body">
          <div class="row p-3">
            <div class="col-md-6 col-sm-6">
              <label class="label-color">Search By Survey</label>
            </div>
          </div>

          <div class="row p-3">
            <div class="col-md-6 col-sm-6 p-4">
              <label class="form-label">Survey Request</label>
              <input
                type="checkbox"
                class="m-1 ms-4 form-check-input"
                [(ngModel)]="isSurveyRequestInformationIncluded"
              />
            </div>
            <div class="col-md-6 col-sm-6">
              <label class="form-label">{{
                dico?.dico_surveyor || "dico_surveyor"
              }}</label>
              <ng-select
                name="surveyor"
                [virtualScroll]="true"
                [(ngModel)]="supplierId"
                [appendTo]="'body'"
                (search)="getSurveyorsName($event)"
                [disabled]="isSurveyRequestInformationIncluded ? false : true"
              >
                <ng-option
                  *ngFor="let suggestion of suppliersNames"
                  [value]="suggestion.supplierId"
                >
                  {{ suggestion.supplierName }}</ng-option
                >
              </ng-select>
            </div>
          </div>

          <div class="row p-3">
            <div class="col-md-6 col-sm-6 p-4">
              <label class="form-label">{{
                dico?.dico_vip || "dico_vip"
              }}</label>
              <input
                type="checkbox"
                class="m-1 ms-4 form-check-input"
                [(ngModel)]="vip"
                [disabled]="isSurveyRequestInformationIncluded ? false : true"
              />
            </div>
            <div class="col-md-6 col-sm-6">
              <label class="form-label">Status</label>
              <select
                name=""
                id=""
                class="form-select"
                [disabled]="isSurveyRequestInformationIncluded ? false : true"
                [(ngModel)]="surveyStatus"
              >
                <option
                  *ngFor="let status of surveyStatusOptions"
                  [value]="status.value"
                >
                  {{ status.label }}
                </option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="container-fluid mt-3">
      <div class="card h-100">
        <div class="card-body">
          <div class="row p-2">
            <label class="label-color">Search Result </label>
          </div>

          <div class="table-responsive">
            <table>
              <thead style="top: 0">
                <tr>
                  <th></th>
                  <th class="header-label">
                    {{ dico?.dico_insurance || "dico_insurance" }}
                  </th>

                  <th></th>
                  <th class="header-label">
                    {{ dico?.dico_notification || "dico_notification" }}
                  </th>
                  <th class="header-label">
                    {{ dico?.dico_plate || "dico_plate" }}
                  </th>

                  <th>
                    {{ dico?.dico_brand || "dico_brand" }}
                  </th>
                  <th>
                    {{ dico?.dico_trademark || "dico_trademark" }}
                  </th>

                  <th>
                    {{ dico?.dico_yom || "dico_yom" }}
                  </th>

                  <th>
                    {{ dico?.dico_name || "dico_name" }}
                  </th>

                  <th>
                    {{ dico?.dico_garage_name || "dico_garage_name" }}
                  </th>
                  <th>{{ dico?.dico_town_name || "dico_town_name" }}</th>
                  <th>{{ dico?.dico_status || "dico_status" }}</th>
                  <th>{{ dico?.dico_product_type || "dico_product_type" }}</th>
                  <th>{{ dico?.dico_insured_tp || "dico_insured_tp" }}</th>
                  <th>{{ dico?.dico_survey_count || "dico_survey_count" }}</th>

                  <!-- <th>{{ dico?.dico_status_code || "dico_status_code" }}</th> -->
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="
                    let list of surveyRequestBySearchParameters;
                    let i = index
                  "
                  [ngClass]="{
                    'selected-class': i === selectedRowIndex
                  }"
                >
                  <td>
                    <img
                      src="./assets/icons/flip_down.png"
                      class="icon"
                      alt=""
                      (click)="onSelectSurvey(list, i)"
                    />
                  </td>
                  <td>
                    <img
                      [src]="'data:image/jpeg;base64,' + list?.companyLogo"
                      alt=""
                      class="company-logo-table"
                    />
                  </td>
                  <td>
                    <img
                      src="assets/icons/add.png"
                      alt=""
                      class="icon"
                      *ngIf="list.insured === 'Insured'"
                      (click)="openAddTpp(list)"
                    />
                  </td>
                  <td class="text-nowrap">{{ list.notification }}</td>
                  <td class="text-nowrap">
                    {{ list.plate }}
                  </td>
                  <td class="text-nowrap">{{ list.brand }}</td>
                  <td class="text-nowrap">{{ list.trademark }}</td>

                  <td class="text-nowrap">{{ list.yearOfMark }}</td>

                  <td class="text-nowrap">
                    {{ list.fullName }}
                  </td>

                  <td class="text-nowrap">
                    {{ list.garageName }}
                  </td>

                  <td class="text-nowrap">{{ list.townName }}</td>

                  <td class="text-nowrap">{{ list.surveyStatus }}</td>

                  <td class="text-nowrap">
                    {{ list.productType }}
                  </td>
                  <td class="text-nowrap">
                    {{ list.insured }}
                  </td>

                  <td class="text-nowrap">
                    {{ list.surveysCount }}
                  </td>
                </tr>
              </tbody>
              <ng-template #noData>
                <tr>
                  <td colspan="9">
                    {{
                      dico?.BASIC_NO_DATA_TO_DISPLAY ||
                        "BASIC_NO_DATA_TO_DISPLAY"
                    }}
                  </td>
                </tr>
              </ng-template>
            </table>
            <app-paginator
              [totalItems]="totalItems"
              [totalPages]="totalPages"
              [pageSize]="pageSize"
              (pageChange)="onPageChange($event)"
            ></app-paginator>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<ng-container *ngIf="render">
  <!-- <div class="container-fluid mt-3">
    <div class="card h-100">
      <div class="card-body">
        <div class="row">
          <div class="col-md-2 col-sm-3">
            <img
              [src]="'data:image/jpeg;base64,' + selectedSurvey.companyLogo"
              alt=""
              style="width: 70px; height: 50px"
            />
          </div>
          <div class="col-md-2 col-sm-3">
            <label>{{ dico?.dico_notification || "dico_notification" }}</label>
            <p>{{ selectedSurvey.notification }}</p>
          </div>
          <div class="col-md-2 col-sm-3">
            <label>{{ dico?.dico_plate || "dico_plate" }}</label>
            <p>{{ selectedSurvey.plate }}</p>
          </div>
          <div class="col-md-2 col-sm-3">
            <label>Test</label>
            <p>Testing</p>
          </div>
          <div class="col-md-2 col-sm-3">
            <label>Test</label>
            <p>Testing</p>
          </div>
          <div class="col-md-2 col-sm-3">
            <label>Test</label>
            <p>Testing</p>
          </div>
        </div>
      </div>
    </div>
  </div> -->
  <div class="container-fluid mt-3">
    <div class="row">
      <div class="col-md-15">
        <div style="float: right">
          <button class="button-class ms-2">
            {{ dico?.dico_save || "dico_save" }}
          </button>
          <button class="button-class ms-2 m-2">
            {{ dico?.dico_send_mail || "dico_send_mail" }}
          </button>
          <button class="button-class ms-2 m-2">
            {{ dico?.dico_add_survey_request || "dico_add_survey_request" }}
          </button>
          <button class="button-class ms-2 m-2">
            {{ dico?.dico_survey_bill || "dico_survey_bill" }}
          </button>

          <app-view-notes class="button-class ms-2 m-2"></app-view-notes>
        </div>
      </div>
    </div>
  </div>

  <div class="container-fluid mt-3">
    <div class="row">
      <div class="col-lg-3 col-md-3">
        <div class="card h-100">
          <div class="card-body">
            <div class="row p-2">
              <h5 class="card-title label-color">
                {{ dico?.dico_type || "dico_type" }}
              </h5>
            </div>
            <div class="row p-2">
              <div class="col-lg-5 col-md-8 col-sm-8" style="width: 400px">
                <table>
                  <thead style="top: 0">
                    <tr>
                      <th class="p-2">survey/resurvey</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="p-2">test</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-6 col-md-6">
        <div class="card h-100">
          <div class="card-body">
            <div class="row p-2">
              <div class="col-md-4">
                <h5 class="card-title label-color">
                  {{ dico?.dico_request || "dico_request" }}
                </h5>
              </div>
              <div class="col-lg-3 col-md-4 col-sm-6">
                <label class="form-label">Test</label>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-3 col-md-4 col-sm-6">
                <label class="form-label">{{
                  dico?.dico_request_date || "dico_request_date"
                }}</label>
                <input type="text" class="form-control" />
              </div>
              <div class="col-lg-3 col-md-4 col-sm-6">
                <label class="form-label">{{
                  dico?.dico_garage_name || "dico_garage_name"
                }}</label>
                <input type="text" class="form-control" />
              </div>
              <div class="col-lg-3 col-md-4 col-sm-6">
                <label class="form-label">{{
                  dico?.dico_town || "dico_town"
                }}</label>
                <input type="text" class="form-control" />
              </div>
              <div class="col-lg-3 col-md-4 col-sm-6">
                <label class="form-label">{{
                  dico?.dico_type || "dico_type"
                }}</label>
                <input type="text" class="form-control" />
              </div>
              <div class="col-lg-3 col-md-4 col-sm-6 m-4">
                <label class="form-label">{{
                  dico?.dico_vip || "dico_vip"
                }}</label>
                <input type="checkbox" class="form-check-input ms-3" />
              </div>
            </div>

            <div class="row p-3">
              <div class="col-lg-3 col-md-4 col-sm-6">
                <label class="form-label">{{
                  dico?.dico_address || "dico_address"
                }}</label>
                <input type="text" class="form-control" />
              </div>
              <div class="col-lg-3 col-md-4 col-sm-6">
                <label class="form-label">{{
                  dico?.dico_note || "dico_note"
                }}</label>
                <input type="text" class="form-control" />
              </div>
              <div class="col-lg-3 col-md-4 col-sm-6">
                <label class="form-label">{{
                  dico?.dico_phone_number || "dico_phone_number"
                }}</label>
                <input type="text" class="form-control" />
              </div>
              <div class="col-lg-3 col-md-4 col-sm-6">
                <label class="form-label">{{
                  dico?.dico_req_user || "dico_req_user"
                }}</label>
                <input type="text" class="form-control" />
              </div>
            </div>

            <div class="row p-3">
              <div class="col-lg-2 col-md-4 col-sm-6">
                <label class="form-label">{{
                  dico?.dico_request_cancel || "dico_request_cancel"
                }}</label>
                <input type="checkbox" class="form-check-input ms-3" />
              </div>
              <div class="col-lg-3 col-md-4 col-sm-6">
                <label class="form-label">{{
                  dico?.dico_cancel_reason || "dico_cancel_reason"
                }}</label>

                <select name="cancelReas" id="cancelReas" class="form-select">
                  <option value=""></option>
                </select>
              </div>
              <div class="col-lg-3 col-md-4 col-sm-6">
                <label class="form-label">{{
                  dico?.dico_note || "dico_note"
                }}</label>
                <input type="text" class="form-control" />
              </div>
              <div class="col-lg-3 col-md-4 col-sm-6">
                <label class="form-label">{{
                  dico?.dico_cancel_user || "dico_cancel_user"
                }}</label>

                <select name="cancelUser" id="cancelUser" class="form-select">
                  <option value=""></option>
                </select>
              </div>
              <div class="col-lg-3 col-md-4 col-sm-6">
                <label class="form-label">{{
                  dico?.dico_cancel_date || "dico_cancel_date"
                }}</label>

                <input type="text" class="form-control" />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-3 col-md-6">
        <div class="card h-100">
          <div class="card-body">
            <div class="row p-2">
              <h5 class="card-title label-color">
                {{ dico?.dico_dispatch || "dico_dispatch" }}
              </h5>
            </div>
            <div class="row p-3">
              <div class="col-lg-8 col-md-8 col-sm-8">
                <label class="form-label">{{
                  dico?.dico_surveyor_name || "dico_surveyor_name"
                }}</label>

                <input type="text" class="form-control" />
              </div>
            </div>
            <div class="row p-3">
              <div class="col-lg-8 col-md-8 col-sm-8">
                <label class="form-label">{{
                  dico?.dico_survey_cost || "dico_survey_cost"
                }}</label>

                <input type="text" class="form-control" />
              </div>
            </div>
            <div class="row p-3">
              <div class="col-lg-8 col-md-8 col-sm-8">
                <label class="form-label">{{
                  dico?.dico_dispatch_date || "dico_dispatch_date"
                }}</label>

                <input type="text" class="form-control" />
              </div>
            </div>
            <div class="row p-3">
              <div class="col-lg-8 col-md-8 col-sm-8">
                <label class="form-label">{{
                  dico?.dico_dispatch_note || "dico_dispatch_note"
                }}</label>

                <input type="text" class="form-control" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
<ng-template #surveyListExcel>
  <div class="grid-container panel-class-style">
    <button class="close-button" (click)="onNoClick()">
      <mat-icon>close</mat-icon>
    </button>
    <h2 class="h5">{{ dico?.dico_sur_list_excel || "dico_sur_list_excel" }}</h2>
  </div>
  <div class="container-fluid">
    <div class="card h-100">
      <div class="card-body">
        <div class="row mb-3">
          <div class="col-md-3">
            <label class="form-label"
              >{{ dico?.dico_company || "dico_company" }}
            </label>
            <select
              id="company"
              name="company"
              class="form-select"
              [(ngModel)]="companySurveyList"
              [disabled]="companies.length! <= 1"
            >
              <option
                *ngFor="let company of companies"
                [value]="company.companyId"
              >
                {{ company.companyName }}
              </option>
            </select>
          </div>
          <div class="col-md-4">
            <label class="form-label">{{
              dico?.dico_surveyor_name || "dico_surveyor_name"
            }}</label>
            <ng-select
              name="surveyor"
              [virtualScroll]="true"
              [(ngModel)]="surveyorNameSurveyList"
              [appendTo]="'body'"
              (search)="getSurveyorsName($event)"
            >
              <ng-option
                *ngFor="let suggestion of suppliersNames"
                [value]="suggestion.supplierId"
              >
                {{ suggestion.supplierName }}</ng-option
              >
            </ng-select>
          </div>
          <div class="col-md-3">
            <label class="form-label">{{
              dico?.dico_notification || "dico_notification"
            }}</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="notificationSurveyList"
            />
          </div>
        </div>

        <div class="row">
          <div class="col-md-3">
            <label for="fromDate" class="form-label">{{
              dico?.dico_from_date || "dico_from_date"
            }}</label>
            <input
              type="text"
              name="fromDate"
              id="fromDate"
              class="form-control"
              bsDatepicker
              [bsConfig]="{
                dateInputFormat: 'DD/MM/YYYY',
                containerClass: 'theme-dark-blue',
                showWeekNumbers: false
              }"
              [(ngModel)]="fromDateSurveyList"
            />
          </div>
          <div class="col-md-3">
            <label class="form-label">{{
              dico?.dico_to_date || "dico_to_date"
            }}</label>
            <input
              type="text"
              name="toDate"
              id="toDate"
              class="form-control"
              bsDatepicker
              [bsConfig]="{
                dateInputFormat: 'DD/MM/YYYY',
                containerClass: 'theme-dark-blue',
                showWeekNumbers: false
              }"
              [(ngModel)]="ToDateSurveyList"
            />
          </div>
          <div class="col-md-3">
            <label class="form-label">{{
              dico?.dico_with_cost || "dico_with_cost"
            }}</label>
            <select
              name="cost"
              id="cost"
              class="form-select"
              [(ngModel)]="selectedCostSurveyList"
            >
              <option
                *ngFor="let item of WithOrWithoutCost"
                [value]="item.value"
              >
                {{ item.label }}
              </option>
            </select>
          </div>
          <div class="col-md-3 mt-4">
            <button
              class="button-class"
              (click)="getSurveyRequestExcelValues()"
            >
              Excel
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #followUpExcel>
  <div class="grid-container panel-class-style">
    <button class="close-button" (click)="onNoClick()">
      <mat-icon>close</mat-icon>
    </button>
    <h2 class="h5">{{ dico?.dico_sur_follow_up || "dico_sur_follow_up" }}</h2>
  </div>
  <div class="container-fluid">
    <div class="card h-100">
      <div class="card-body">
        <div class="row mb-3">
          <div class="col-md-3">
            <label class="form-label"
              >{{ dico?.dico_company || "dico_company" }}
            </label>
            <select
              id="company"
              name="company"
              class="form-select"
              [(ngModel)]="companySurveyList"
              [disabled]="companies.length! <= 1"
            >
              <option
                *ngFor="let company of companies"
                [value]="company.companyId"
              >
                {{ company.companyName }}
              </option>
            </select>
          </div>
          <div class="col-md-4">
            <label class="form-label">{{
              dico?.dico_surveyor_name || "dico_surveyor_name"
            }}</label>
            <ng-select
              name="surveyor"
              [virtualScroll]="true"
              [(ngModel)]="surveyorNameSurveyList"
              [appendTo]="'body'"
              (search)="getSurveyorsName($event)"
            >
              <ng-option
                *ngFor="let suggestion of suppliersNames"
                [value]="suggestion.supplierId"
              >
                {{ suggestion.supplierName }}</ng-option
              >
            </ng-select>
          </div>
          <div class="col-md-3">
            <label class="form-label">{{
              dico?.dico_type || "dico_type"
            }}</label>
            <select
              id="type"
              name="type"
              class="form-select"
              [(ngModel)]="typeSurveyList"
            >
              <option *ngFor="let type of followUpTypes" [value]="type.value">
                {{ type.label }}
              </option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="col-md-3">
            <label for="fromDate" class="form-label">{{
              dico?.dico_from_date || "dico_from_date"
            }}</label>
            <input
              type="text"
              name="fromDate"
              id="fromDate"
              class="form-control"
              [(ngModel)]="fromDateSurveyList"
              required
              bsDatepicker
              [bsConfig]="{
                dateInputFormat: 'DD/MM/YYYY',
                containerClass: 'theme-dark-blue',
                showWeekNumbers: false
              }"
            />
          </div>
          <div class="col-md-3">
            <label class="form-label">{{
              dico?.dico_to_date || "dico_to_date"
            }}</label>
            <input
              type="text"
              name="toDate"
              id="toDate"
              required
              class="form-control"
              bsDatepicker
              [(ngModel)]="ToDateSurveyList"
              [bsConfig]="{
                dateInputFormat: 'DD/MM/YYYY',
                containerClass: 'theme-dark-blue',
                showWeekNumbers: false
              }"
            />
          </div>

          <div class="col-md-3 mt-4">
            <button
              class="button-class"
              (click)="getSurveyDispatchFollowUpList()"
            >
              Excel
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
<ng-template #surveyCheckExcel>
  <div class="grid-container panel-class-style">
    <button class="close-button" (click)="onNoClick()">
      <mat-icon>close</mat-icon>
    </button>
    <h2 class="h5">{{ dico?.dico_sur_check || "dico_sur_check" }}</h2>
  </div>
  <div class="container-fluid">
    <div class="card h-100">
      <div class="card-body">
        <div class="row mb-3">
          <div class="col-md-3">
            <label class="form-label"
              >{{ dico?.dico_company || "dico_company" }}
            </label>
            <select
              id="company"
              name="company"
              class="form-select"
              [(ngModel)]="companySurveyList"
              [disabled]="companies.length! <= 1"
            >
              <option
                *ngFor="let company of companies"
                [value]="company.companyId"
              >
                {{ company.companyName }}
              </option>
            </select>
          </div>
          <div class="col-md-4">
            <label class="form-label">{{
              dico?.dico_surveyor_name || "dico_surveyor_name"
            }}</label>
            <ng-select
              name="surveyor"
              [virtualScroll]="true"
              [(ngModel)]="surveyorNameSurveyList"
              [appendTo]="'body'"
              (search)="getSurveyorsName($event)"
            >
              <ng-option
                *ngFor="let suggestion of suppliersNames"
                [value]="suggestion.supplierId"
              >
                {{ suggestion.supplierName }}</ng-option
              >
            </ng-select>
          </div>
        </div>

        <div class="row">
          <div class="col-md-3">
            <label for="fromDate" class="form-label">{{
              dico?.dico_from_date || "dico_from_date"
            }}</label>
            <input
              type="text"
              name="fromDate"
              id="fromDate"
              class="form-control"
              required
              bsDatepicker
              [(ngModel)]="fromDateSurveyList"
              [bsConfig]="{
                dateInputFormat: 'DD/MM/YYYY',
                containerClass: 'theme-dark-blue',
                showWeekNumbers: false
              }"
            />
          </div>
          <div class="col-md-3">
            <label class="form-label">{{
              dico?.dico_to_date || "dico_to_date"
            }}</label>
            <input
              type="text"
              name="toDate"
              id="toDate"
              required
              class="form-control"
              bsDatepicker
              [(ngModel)]="ToDateSurveyList"
              [bsConfig]="{
                dateInputFormat: 'DD/MM/YYYY',
                containerClass: 'theme-dark-blue',
                showWeekNumbers: false
              }"
            />
          </div>

          <div class="col-md-3 mt-4">
            <button class="button-class" (click)="getSurveyCheckingList()">
              Excel
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #printSurveySent>
  <div class="grid-container panel-class-style">
    <button class="close-button" (click)="onNoClick()">
      <mat-icon>close</mat-icon>
    </button>
    <h2 class="h5">{{ dico?.dico_sur_check || "dico_sur_check" }}</h2>
  </div>
  <div class="container-fluid">
    <div class="card h-100">
      <div class="card-body">
        <div class="row mb-3">
          <div class="col-md-3">
            <label class="form-label"
              >{{ dico?.dico_company || "dico_company" }}
            </label>
            <select
              id="company"
              name="company"
              class="form-select"
              [(ngModel)]="companySurveyList"
              [disabled]="companies.length! <= 1"
            >
              <option
                *ngFor="let company of companies"
                [value]="company.companyId"
              >
                {{ company.companyName }}
              </option>
            </select>
          </div>
          <div class="col-md-4">
            <label class="form-label">{{
              dico?.dico_surveyor_name || "dico_surveyor_name"
            }}</label>
            <ng-select
              name="surveyor"
              [virtualScroll]="true"
              [(ngModel)]="surveyorNameSurveyList"
              [appendTo]="'body'"
              (search)="getSurveyorsName($event)"
            >
              <ng-option
                *ngFor="let suggestion of suppliersNames"
                [value]="suggestion.supplierId"
              >
                {{ suggestion.supplierName }}</ng-option
              >
            </ng-select>
          </div>
        </div>

        <div class="row">
          <div class="col-md-3">
            <label for="fromDate" class="form-label">{{
              dico?.dico_from_date || "dico_from_date"
            }}</label>
            <input
              type="text"
              name="fromDate"
              id="fromDate"
              class="form-control"
              required
              bsDatepicker
              [(ngModel)]="fromDateSurveyList"
              [bsConfig]="{
                dateInputFormat: 'DD/MM/YYYY',
                containerClass: 'theme-dark-blue',
                showWeekNumbers: false
              }"
            />
          </div>
          <div class="col-md-3">
            <label class="form-label">{{
              dico?.dico_to_date || "dico_to_date"
            }}</label>
            <input
              type="text"
              name="toDate"
              id="toDate"
              required
              class="form-control"
              bsDatepicker
              [(ngModel)]="ToDateSurveyList"
              [bsConfig]="{
                dateInputFormat: 'DD/MM/YYYY',
                containerClass: 'theme-dark-blue',
                showWeekNumbers: false
              }"
            />
          </div>

          <div class="col-md-3 mt-4">
            <button class="button-class">
              <img src="./assets/icons/pdf.png" class="icon" alt="" />
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #addTpLossCar>
  <div class="grid-container m-2 panel-class-style">
    <button class="close-button" (click)="onNoClick()">
      <mat-icon>close</mat-icon>
    </button>
    <h2 class="h5">{{ dico?.dico_add_tp || "dico_add_tp" }}</h2>
  </div>
  <div class="grid-container m-2">
    <form [formGroup]="addTpForm" (ngSubmit)="addTpLossCarSubmit()">
      <div class="row">
        <div class="col-md-7 mb-3">
          <img
            [src]="'data:image/jpeg;base64,' + companyLogo"
            alt=""
            style="width: 50px; height: 50px"
          />
        </div>
      </div>
      <div class="col-md-7 mb-3">
        <label for="visa" class="form-label">{{
          dico?.dico_notification || "dico_notification"
        }}</label>
        <input
          type="number"
          name="visa"
          id="visa"
          class="form-control"
          formControlName="visa"
        />
      </div>

      <div class="col-md-7 mb-3">
        <label for="firstName" class="form-label">{{
          dico?.dico_firstname || "dico_firstname"
        }}</label>
        <input
          type="text"
          name="firstName"
          id="firstName"
          class="form-control"
          formControlName="carOwnerFirstName"
        />
      </div>
      <div class="col-md-7 mb-3">
        <label for="fatherName" class="form-label">{{
          dico?.dico_fathername || "dico_fathername"
        }}</label>
        <input
          type="text"
          name="fatherName"
          id="fatherName"
          class="form-control"
          formControlName="carOwnerFatherName"
        />
      </div>

      <div class="col-md-7 mb-3">
        <label for="familyName" class="form-label">{{
          dico?.dico_familyname || "dico_familyname"
        }}</label>
        <input
          type="text"
          name="familyName"
          id="familyName"
          class="form-control"
          formControlName="carOwnerFamilyName"
        />
      </div>

      <div class="col-md-7 mb-3">
        <label for="platePrefix" class="form-label">{{
          dico?.dico_plate_char || "dico_plate_char"
        }}</label>
        <input
          type="text"
          name="platePrefix"
          id="platePrefix"
          class="form-control"
          formControlName="carPlateChar"
        />
      </div>
      <div class="col-md-7 mb-3">
        <label for="PlateNum" class="form-label">{{
          dico?.dico_plate_number || "dico_plate_number"
        }}</label>
        <input
          type="number"
          name="PlateNum"
          id="PlateNum"
          class="form-control"
          formControlName="carPlateNum"
        />
      </div>

      <div class="col-md-7 mb-3">
        <label for="carBrand" class="form-label">{{
          dico?.dico_car_brand || "dico_car_brand"
        }}</label>
        <ng-select
          name="surveyor"
          [virtualScroll]="true"
          (search)="getCarBrandFindByDescription($event)"
          (change)="onBrandSelectionChange($event)"
          formControlName="carCarBrand"
        >
          <ng-option
            *ngFor="let suggestion of brandsDesc"
            [value]="suggestion.code"
          >
            {{ suggestion.description }}</ng-option
          >
        </ng-select>
      </div>
      <div class="col-md-7 mb-3">
        <label for="model" class="form-label">{{
          dico?.dico_car_trademark || "dico_car_trademark"
        }}</label>
        <ng-select
          name="carTrademark"
          [virtualScroll]="true"
          (search)="getCarTrademarkDescription($event)"
          (change)="onTrademarkSelectionChange($event)"
          formControlName="carCarTrademark"
        >
          <ng-option
            *ngFor="let suggestion of tradeMarkDesc"
            [value]="suggestion.code"
          >
            {{ suggestion.description }}</ng-option
          >
        </ng-select>
      </div>

      <div class="col-md-7 mb-3">
        <label for="subModel" class="form-label">{{
          dico?.dico_shape || "dico_shape"
        }}</label>
        <ng-select
          name="carShape"
          [virtualScroll]="true"
          (search)="
            getCarShapeIdByBrandIdAndTradeMarkIdAndShapeDescription($event)
          "
          formControlName="carCarShape"
        >
          <ng-option
            *ngFor="let suggestion of shapeDescList"
            [value]="suggestion.code"
          >
            {{ suggestion.description }}</ng-option
          >
        </ng-select>
        <!-- <input
            type="text"
            name="subModel"
            id="subModel"
            class="form-control"
            formControlName="carCarShape"
          /> -->
      </div>
      <div class="col-md-7 mb-3">
        <label for="yom" class="form-label">{{
          dico?.dico_pre_risk_year || "dico_pre_risk_year"
        }}</label>
        <input
          type="number"
          name="yom"
          id="yom"
          class="form-control"
          formControlName="carYearManfact"
        />
      </div>

      <button type="submit" class="button-class">Save</button>
    </form>
  </div>
</ng-template>
